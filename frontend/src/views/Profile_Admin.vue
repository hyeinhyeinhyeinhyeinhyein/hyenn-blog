<template>
  <div>
    <h1>ë¡œê·¸ì¸ ì™„ë£Œ ğŸ‰</h1>
  </div>
</template>

<script>
export default {
  mounted() {
    const token = this.$route.query.token;
    if (token) {
      localStorage.setItem('authToken', token);

      const payload = JSON.parse(atob(token.split('.')[1]));
      const isAdmin = payload.isAdmin === true;
      localStorage.setItem('isAdmin', isAdmin); // ìƒíƒœ ì €ì¥

      this.$router.push('/'); // í™ˆìœ¼ë¡œ ì´ë™
    } else {
      this.$router.push('/profile'); // í† í° ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë‹¤ì‹œ
    }
  }
}
</script>
